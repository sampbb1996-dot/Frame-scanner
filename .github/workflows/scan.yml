#!/usr/bin/env python3

import sys

def try_import_feedparser():
    try:
        import feedparser
        return feedparser
    except ModuleNotFoundError:
        return None


def main():
    feedparser = try_import_feedparser()

    if feedparser is None:
        print("WARNING: 'feedparser' not installed.")
        print("Scanner skipped. No action taken.")
        # Exit cleanly so scheduled jobs don't fail
        sys.exit(0)

    # --- actual scanner logic below ---
    print("feedparser available. Running scan...")

    # example usage (replace with your real logic)
    # feed = feedparser.parse("https://example.com/feed.xml")
    # if feed.bozo:
    #     print("Feed parse issue detected")
    #     sys.exit(1)

    print("Scan completed successfully.")
    sys.exit(0)


if __name__ == "__main__":
    main()
